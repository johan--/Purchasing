
$(function() {

  $(document).on('click', '[class*=spinner]', function(){
    $(this).hide();

    // TODO: Is there a way to stop all promises?
  });

  $('body').tooltip({
    animation: true,
    html: true,
    placement: 'auto top',
    delay: { show: 300, hide: 50 },
    selector: '[data-toggle="tooltip"]',
    container: 'body'
  });

  // Send CSRF token in all jquery requests
  $.ajaxSetup({
    headers: {
      'X-CSRF-Token': $('meta[name="csrf-token"]').attr('content')
    }
  });


  // Inject canned messages into store
  var store = App.__container__.lookup('store:main');
  var messages = <%= CannedMessage.all.to_json %>;

  if (messages)
    store.pushMany('cannedMessage', messages);
});


(function($){

$.scrollbarWidth = function() {
  one = document.body.scrollWidth;
  two = document.documentElement.scrollWidth;

  return (one > two) ? one : two ;
};

})(jQuery);


// Globals
(function(){
  App.Globals = {
    DATE_STRING: 'MMM D, YYYY',
    DATE_STRING_SMALL: 'M-D-YY',
    DATE_STRING_MED: 'M/D h:mm',
    DATE_STRING_FULL: 'MMM D, h:mm a',
    DATE_STRING_DATEBOX: 'm d, yyyy',
    tabs: <%= Settings.app.tabs %>,
    buyers: <%= User.buyers.to_json %>,
    couriers: <%= Settings.app.couriers %>,
    tax_codes: <%= Settings.app.tax_codes %>,
    namespace: '/api/1.0'
  };
})();

isEmpty = Ember.isEmpty;
