
%div{ hb: 'bind-attr title=controller.titleText class=":attached_item controller.isSelected:active"' }

  %a{ class: 'fancybox', hb: 'bind-attr href=view.attachmentPreviewURL title=attachment_file_name' }
    %img{ bind: { src: 'attachment_thumb_url' } }

  .thumb_hover
    =hb 'if view.canSelect' do
      %span{ _action: 'showPreview target="view"' }
        =fa_icon 'eye'

    %a{ target: '_blank', bind: { href: 'attachment_url' } }
      =fa_icon 'download'
    %span{ _action: 'deleteAttachment target="view"' }
      =fa_icon 'times'

  %div{ bind: { class: ':loading isDirty' } }
    =fa_icon 'spinner spin 3x'
    %br
    =hb 'controller.model.progressAmount'
