
.modal-header
  %h2
    =hb 'if id' do
      Edit Vendor
      =hb 'id'
      =hb 'else'
      New Vendor

    %button.close{ type: 'button', 'data-dismiss' => 'modal', 'aria-hidden' => 'true' }
      =fa_icon 'times'

.modal-body
  .col-lg-12
    .form-group
      %label Name
      =hb 'input class="form-control" value=name'

  .col-lg-12
    .form-group
      %label Web
      =hb 'input class="form-control" value=website'
    .form-group
      %label Email
      =hb 'input class="form-control" value=email'

  .row
    .col-lg-6
      .form-group
        %label Address
        =hb 'input class="form-control" value=address'
      .form-group
        %label City
        =hb 'input class="form-control" value=city'
      .form-group
        %label State
        =hb 'input class="form-control" value=state'
      .form-group
        %label Zip-code
        =hb 'input class="form-control" value=zip_code'
      .form-group
        %label Country
        =hb 'input class="form-control" value=country'

    .col-lg-6
      .form-group
        %label Account
        =hb 'input class="form-control" value=account_num'
      .form-group
        %label Ph:
        =hb 'view App.PhoneNumberInput class="form-control" value=phone'
      .form-group
        %label Fx:
        =hb 'view App.PhoneNumberInput class="form-control" value=fax'

.modal-footer
  .pull-left
    =hb 'if model.can_delete' do
      =hb 'if id' do
        =hb 'if num_purchases' do
          %button{ class: 'btn btn-danger active', disabled: true, 'data-toggle' => 'tooltip', title: 'Cannot delete this vendor, it has related purchases' }
            =fa_icon 'times'
            Delete Vendor

          =hb 'else'

          %button{ class: 'btn btn-danger', _action: 'deleteRecord', 'data-toggle' => 'tooltip', title: 'Delete Vendor<br/>(Note: cannot delete a vendor if a Purchase Requisition uses it)' }
            =fa_icon 'times'
            Delete Vendor


  .pull-right
    =hb 'if id' do
      %button{ class: 'btn btn-link', _action: 'stopEditing', 'data-toggle' => 'tooltip', title: 'Cancel editing vendor' }
        =fa_icon 'rotate-left'
        Stop Editing

      =hb 'if model.can_update' do
        =hb 'if model.isDirty' do
          %button{ class: 'btn btn-success btn-lg', _action: 'saveRecord', 'data-toggle' => 'tooltip', title: 'Save changes to vendor' }
            =fa_icon 'save'
            Save

      =hb 'else'

      =hb 'if model.can_create' do
        %button{ class: 'btn btn-success btn-lg', _action: 'saveRecord', 'data-toggle' => 'tooltip', title: 'Save changes to vendor' }
          =fa_icon 'save'
          Create
